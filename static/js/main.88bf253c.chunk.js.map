{"version":3,"sources":["pages/Block.tsx","pages/common.ts","pages/Page.tsx","libs/point.ts","libs/math.ts","pages/Point.tsx","libs/vector.ts","libs/particle.ts","pages/Vector.tsx","App.tsx","serviceWorker.js","index.js","App.module.scss","pages/index.module.scss"],"names":["Block","name","sketch","codes","width","height","$box","useRef","useEffect","p5","current","useState","isCodeVisible","className","styles","title","container","style","classNames","canvas","isHidden","ref","setup","p","createCanvas","ellipseMode","RADIUS","rectMode","CORNERS","background","stroke","noFill","Pages","blocks","map","renderFunction","key","sketchFunction","toString","Point","x","y","this","dx","dy","Math","sqrt","radian","cos","sin","VisualPoint","w","c","strokeWeight","point","polarToCartesian","radius","points","i","random","color","forEach","display","TAU","translate","count","push","num","POINT_NUM","length","pa","j","pb","dist","distance","alpha","weight","line","center","time","rotate","index","next","Page","Vector","size","undefined","normalize","multi","atan2","v","a","Error","mag","div","copy","min","temp","b","acos","dot","Particle","mass","maxSpeed","position","velocity","acceleration","force","add","limit","Attractor","magnitude","f","sub","VisualParticle","particles","particle","apply","update","acctractor","attractors","attractor","pages","App","activePage","setActivePage","console","log","page","header","homeLink","href","link","menu","Object","keys","menuItem","onClick","content","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","module","exports"],"mappings":"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","file":"static/js/main.88bf253c.chunk.js","sourcesContent":["import React, { FC, useRef, useEffect, useState } from 'react';\nimport styles from './index.module.scss';\nimport p5 from 'p5';\nimport classNames from 'classnames';\n\ninterface BlockProps {\n  name: string;\n  codes?: string;\n  sketch: (p: p5) => void;\n  width?: number;\n  height?: number;\n}\nconst Block: FC<BlockProps> = ({\n  name = '',\n  sketch = () => {},\n  codes,\n  width = 400,\n  height = 400,\n}) => {\n  const $box = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    new p5(sketch, $box.current as HTMLElement);\n  }, [sketch]);\n\n  const [\n    isCodeVisible,\n    // setCodeVisibility\n  ] = useState(false);\n  return (\n    <div>\n      <h3 className={styles.title}>{name}</h3>\n      <div\n        className={styles.container}\n        style={{ width: `${width}px`, height: `${height}px` }}\n        // onClick={() => {\n        //   setCodeVisibility(!isCodeVisible);\n        // }}\n      >\n        <div\n          className={classNames(styles.canvas, {\n            [styles.isHidden]: isCodeVisible,\n          })}\n          ref={$box}\n        ></div>\n        <p className={styles.codes}>{codes}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Block;\n","import p5 from 'p5';\nexport const setup = (p: p5, width: number = 400, height: number = 400) => {\n  p.createCanvas(width, height);\n  p.ellipseMode(p.RADIUS);\n  p.rectMode(p.CORNERS);\n  p.background('#111111');\n  p.stroke(255);\n  p.noFill();\n};\n","import React, { Fragment, FC } from 'react';\nimport Block from './Block';\nimport { setup } from './common';\nimport p5 from 'p5';\n\ntype RenderFunction = (p: p5) => void;\n\ninterface BlockProps {\n  name: string;\n  renderFunction: RenderFunction;\n  width?: number;\n  height?: number;\n}\n\ninterface PagesProps {\n  blocks: BlockProps[];\n}\n\nconst Pages: FC<PagesProps> = ({ blocks = [] }) => {\n  const sketchFunction = (\n    p: p5,\n    renderFunction: RenderFunction,\n    width = 500,\n    height = 500\n  ) => {\n    p.setup = () => {\n      setup(p, width, height);\n      renderFunction(p);\n    };\n  };\n  return (\n    <Fragment>\n      {blocks.map(({ name, renderFunction, width = 500, height = 500 }) => {\n        return (\n          <Block\n            key={name}\n            name={name}\n            width={width}\n            height={height}\n            sketch={(p) => {\n              sketchFunction(p, renderFunction, width, height);\n            }}\n            codes={renderFunction.toString()}\n          />\n        );\n      })}\n    </Fragment>\n  );\n};\n\nexport default Pages;\n","import p5, { Color } from 'p5';\n\nexport class Point {\n  x: number;\n  y: number;\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  // 复制一个点\n  copy(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  // 两点之间的距离\n  distance(p: Point): number {\n    const dx = p.x - this.x;\n    const dy = p.y - this.y;\n    return Math.sqrt(dx ** 2 + dy ** 2);\n  }\n\n  // 绕着某个点旋转\n  rotate(p: Point, radian: number) {\n    const dx = this.x - p.x;\n    const dy = this.y - p.y;\n    this.x = p.x + Math.cos(radian) * dx - Math.sin(radian) * dy;\n    this.y = p.y + Math.sin(radian) * dx + Math.cos(radian) * dy;\n  }\n}\n\nexport class VisualPoint extends Point {\n  w: number;\n  c: Color;\n  constructor(x: number = 0, y: number = 0, w: number, c: Color) {\n    super(x, y);\n    this.w = w;\n    this.c = c;\n  }\n\n  // 绘制点\n  display(p: p5): void {\n    p.stroke(this.c);\n    p.strokeWeight(this.w);\n    p.point(this.x, this.y);\n  }\n}\n","interface PointProps {\n  x: number;\n  y: number;\n}\n/**\n * 极坐标转笛卡尔坐标\n * @param radius 半径\n * @param radian 弧度\n */\nexport function polarToCartesian(radius: number, radian: number): PointProps {\n  return {\n    x: Math.cos(radian) * radius,\n    y: Math.sin(radian) * radius,\n  };\n}\n","import React from 'react';\nimport Page from './Page';\nimport p5 from 'p5';\nimport { VisualPoint, Point } from '../libs/point';\nimport { polarToCartesian } from '../libs/math';\nconst POINT_NUM = 1000;\n\nconst randomPoints = {\n  name: 'Random Points',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPoints2 = {\n  name: 'Random Points 2',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const x = p.random(p.width);\n      const random = p.random(1) ** 0.2;\n      const y = p.map(random, 0, 1, 0, p.height);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle = {\n  name: 'Random Points in Circle',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(0.4 * p.width);\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle2 = {\n  name: 'Random Points in Circle 2',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(1) ** 0.5 * 0.4 * p.width; // 对生成半径的随机数开方可以解决中间密，外边疏的情况\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle3 = {\n  name: 'Random Points in Circle 3',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(1) ** 0.1 * 0.4 * p.width; // 对生成半径的随机数开方可以解决中间密，外边疏的情况\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst equidistributionPointsInCircle = {\n  name: 'Equidistribution Points in Circle',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    let radius = 10; // 初始半径\n    let radian = 0; // 初始弧度\n    const arc = 10; // 弧长间距\n    let count = 0;\n\n    while (radius < p.width / 2) {\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points.push(new VisualPoint(x, y, w, c));\n\n      const num = ~~((p.TAU * radius) / arc);\n      radian += p.TAU / num;\n      count++;\n      if (count === num) {\n        count = 0;\n        radian = 0;\n        radius += 10;\n      }\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomLinks = {\n  name: 'Random links',\n  renderFunction: (p: p5) => {\n    const points: Point[] = [];\n\n    for (let i = 0; i < POINT_NUM / 10; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      points[i] = new Point(x, y);\n    }\n\n    for (let i = 0; i < points.length; i++) {\n      const pa = points[i];\n      for (let j = i; j < points.length; j++) {\n        const pb = points[j];\n        const dist = pa.distance(pb);\n\n        if (dist < p.width / 2) {\n          const alpha = p.map(dist, 0, p.width / 2, 0, 40);\n          const weight = p.map(dist, 0, p.width / 2, 2, 0);\n\n          p.stroke(p.color(255, alpha));\n          p.strokeWeight(weight);\n          p.line(pa.x, pa.y, pb.x, pb.y);\n        }\n      }\n    }\n  },\n};\n\nconst pointsCircle = {\n  name: 'Points circle',\n  renderFunction(p: p5) {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM / 2; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = 1;\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    const center = new Point(p.width / 2, p.height / 2);\n\n    for (let time = 0; time < 100; time++) {\n      points.forEach((point) => {\n        point.rotate(center, 0.01);\n        point.display(p);\n      });\n    }\n  },\n};\n\nconst pointsRotateAroundPrevious = {\n  name: 'Points rotate around previous',\n  renderFunction(p: p5) {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM / 2; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = 1;\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    for (let time = 0; time < 100; time++) {\n      points.forEach((point, index) => {\n        const next = (index + 1) % points.length;\n        point.rotate(points[next], 0.01);\n        point.display(p);\n      });\n    }\n  },\n};\nconst linksRotateAroundPrevious = {\n  name: 'links rotate around previous',\n  renderFunction(p: p5) {\n    const points: Point[] = [];\n    for (let i = 0; i < POINT_NUM / 10; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n\n      points[i] = new Point(x, y);\n    }\n\n    // 旋转规则\n    for (let time = 0; time < 20; time++) {\n      points.map((point, index) => {\n        const next = (index + 1) % points.length;\n        point.rotate(points[next], 0.01);\n      });\n      // 距离规则\n      for (let i = 0; i < points.length; i++) {\n        const pa = points[i];\n        for (let j = i; j < points.length; j++) {\n          const pb = points[j];\n          const dist = pa.distance(pb);\n          if (dist < p.width / 5) {\n            const alpha = p.map(dist, 0, p.width / 2, 0, 40);\n            const weight = p.map(dist, 0, p.width / 2, 2, 0);\n\n            p.stroke(p.color(255, alpha));\n            p.strokeWeight(weight);\n            p.line(pa.x, pa.y, pb.x, pb.y);\n          }\n        }\n      }\n    }\n  },\n};\nconst blocks = [\n  randomPoints,\n  randomPoints2,\n  randomPointsInCircle,\n  randomPointsInCircle2,\n  randomPointsInCircle3,\n  equidistributionPointsInCircle,\n  randomLinks,\n  pointsCircle,\n  pointsRotateAroundPrevious,\n  linksRotateAroundPrevious,\n];\n\nexport default () => <Page blocks={blocks} />;\n","export class Vector {\n  x: number;\n  y: number;\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  // 复制\n  copy(): Vector {\n    return new Vector(this.x, this.y);\n  }\n\n  // 大小 || 设置大小\n  mag(): number;\n  mag(size: number): Vector;\n  mag(size?: number) {\n    if (size === undefined) {\n      return Math.sqrt(this.x ** 2 + this.y ** 2);\n    }\n    return this.normalize().multi(size);\n  }\n\n  // 方向，弧度制\n  heading(): number {\n    return Math.atan2(this.y, this.x);\n  }\n\n  // 加\n  add(v: Vector): Vector {\n    this.x += v.x;\n    this.y += v.y;\n    return this;\n  }\n\n  // 减\n  sub(v: Vector): Vector {\n    this.x -= v.x;\n    this.y -= v.y;\n    return this;\n  }\n\n  // 数乘\n  multi(a: number): Vector {\n    this.x *= a;\n    this.y *= a;\n    return this;\n  }\n\n  // 数除\n  div(a: number): Vector {\n    if (a === 0) throw new Error('cannot divide zero');\n    this.x /= a;\n    this.y /= a;\n    return this;\n  }\n\n  // 点乘\n  dot(v: Vector): number {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  // 叉乘\n  cross(v: Vector): number {\n    return this.x * v.y - this.y * v.x;\n  }\n\n  // 标准化\n  normalize(): Vector {\n    const mag = this.mag();\n    if (mag !== 0 && mag !== 1) return this.div(mag);\n    return this.copy();\n  }\n\n  // 限制大小\n  limit(size: number): Vector {\n    return this.mag(Math.min(this.mag(), size));\n  }\n\n  // 旋转\n  rotate(a: number): Vector {\n    this.x = Math.cos(a) * this.x - Math.sin(a) * this.y;\n    this.y = Math.sin(a) * this.x + Math.cos(a) * this.y;\n    return this;\n  }\n\n  // 垂直\n  perpendicular(): Vector {\n    const temp = this.x;\n    this.x = -this.y;\n    this.y = temp;\n    return this;\n  }\n\n  // 两向量的距离\n  distance(v: Vector): number {\n    const dx = this.x - v.x;\n    const dy = this.y - v.y;\n    return Math.sqrt(dx ** 2 + dy ** 2);\n  }\n\n  // 两个向量之间的夹角\n  angleBetween(v: Vector): number {\n    const a = this.copy().normalize();\n    const b = v.copy().normalize();\n    return Math.acos(a.dot(b));\n  }\n}\n","import { Vector } from './vector';\nimport p5, { Color } from 'p5';\n\nexport class Particle {\n  position: Vector; // 位置\n  velocity: Vector; // 速度\n  acceleration: Vector; // 加速度\n  mass: number; // 质量\n  maxSpeed: number; // 最大速率\n\n  constructor(\n    x: number,\n    y: number,\n    { mass = 1, maxSpeed = 1 }: { mass: number; maxSpeed: number }\n  ) {\n    this.position = new Vector(x, y);\n    this.velocity = new Vector();\n    this.mass = mass;\n    this.maxSpeed = maxSpeed;\n    this.acceleration = new Vector();\n  }\n\n  // 施加力 f = ma;\n  apply(force: Vector) {\n    this.acceleration = this.acceleration.add(force.div(this.mass));\n  }\n\n  // 更新\n  update() {\n    this.velocity = this.velocity.add(this.acceleration).limit(this.maxSpeed); // 更新速度， 限制最大速度\n    this.position = this.position.add(this.velocity); // 更新位置\n    this.acceleration = this.acceleration.multi(0); // 加速度清零\n  }\n}\n\n// 影响力\nexport class Attractor {\n  position: Vector;\n  magnitude: number;\n\n  constructor(x: number, y: number, mag: number) {\n    this.position = new Vector(x, y);\n    this.magnitude = mag;\n  }\n\n  // 对点v的影响力\n  force(v: Vector): Vector {\n    const f = this.position.copy().sub(v); // 计算力的方向\n    f.normalize().multi(this.magnitude);\n    return f;\n  }\n}\n\nexport class VisualParticle extends Particle {\n  color: string;\n  weight: number;\n  constructor(\n    x: number,\n    y: number,\n    {\n      mass = 1,\n      maxSpeed = 1,\n      color = '#bbb',\n      weight = 1,\n    }: {\n      mass?: number;\n      maxSpeed?: number;\n      color?: string;\n      weight?: number;\n    } = {}\n  ) {\n    super(x, y, { mass, maxSpeed });\n    this.color = color;\n    this.weight = weight;\n  }\n\n  display(p: p5) {\n    p.stroke(p.color(this.color));\n    p.strokeWeight(this.weight);\n    p.point(this.position.x, this.position.y);\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport p5 from 'p5';\nimport { VisualParticle, Attractor } from '../libs/particle';\nimport { Vector } from '../libs/vector';\nconst P_NUM = 800;\n\nconst blocks = [\n  {\n    name: 'Random Particles',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y);\n      }\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const x = p.random(-1, 1);\n          const y = p.random(-1, 1);\n          const force = new Vector(x, y);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Gravitation at center',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y);\n      }\n      const acctractor = new Attractor(p.width / 2, p.height / 2, 1); // mag is positive means the acctraction is gravitation\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const force = acctractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Repulsion at center',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y);\n      }\n      const acctractor = new Attractor(p.width / 2, p.height / 2, -1); // mag is negative means the acctraction is repulsion\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const force = acctractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Random repulsion and gravitation',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y);\n      }\n      const attractors: Attractor[] = [];\n      for (let i = 0; i < 4; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        const mag = p.random(1, -1);\n        attractors[i] = new Attractor(x, y, mag);\n      }\n\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          attractors.forEach((attractor) => {\n            const force = attractor.force(particle.position);\n            particle.apply(force);\n          });\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Random repulsion and gravitation 2',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.height / 2;\n        particles[i] = new VisualParticle(x, y);\n      }\n      const attractors: Attractor[] = [];\n      for (let i = 0; i < 10; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        const mag = p.random(1, -1);\n        attractors[i] = new Attractor(x, y, mag);\n      }\n\n      for (let time = 0; time < 500; time++) {\n        particles.forEach((particle) => {\n          const attractor = attractors[~~p.random(0, attractors.length - 1)];\n          const force = attractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n    width: 1000,\n    height: 500,\n  },\n];\n\nexport default () => <Page blocks={blocks} />;\n","import React, { useState } from 'react';\nimport styles from './App.module.scss';\nimport classNames from 'classnames';\nimport Point from './pages/Point';\nimport Vector from './pages/Vector';\n\nconst pages = {\n  Point: () => <Point />,\n  Vector: () => <Vector />,\n  // Line: undefined,\n  // Circle: undefined,\n  // Triangle: undefined,\n  // Rectangle: undefined,\n  // Number: undefined,\n  // Tree: undefined,\n  // Graph: undefined,\n  // Sound: undefined,\n};\n\nfunction App() {\n  const [activePage, setActivePage] = useState('Vector');\n\n  console.log(activePage);\n\n  return (\n    <div className={styles.page}>\n      <header className={styles.header}>\n        <div>\n          <a className={styles.homeLink} href=\"//betsey.win\">\n            Betsey\n          </a>\n          <a className={styles.link} href=\"/\">\n            Creative Coding\n          </a>\n        </div>\n      </header>\n      <ul className={styles.menu}>\n        {Object.keys(pages).map((page) => (\n          <li\n            className={classNames(styles.menuItem, {\n              [styles['menuItem--active']]: page === activePage,\n            })}\n            key={page}\n            onClick={() => setActivePage(page)}\n          >\n            {page}\n          </li>\n        ))}\n      </ul>\n      <div className={styles.content}>{(pages as any)[activePage]()}</div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App.tsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__2CSG3\",\"page\":\"App_page__1AVsN\",\"header\":\"App_header__2L3DO\",\"homeLink\":\"App_homeLink__2YGNC\",\"link\":\"App_link__1t642\",\"menu\":\"App_menu__z3ViC\",\"menuItem\":\"App_menuItem__CWTjr\",\"menuItem--active\":\"App_menuItem--active__3cwcT\",\"content\":\"App_content__1Wt3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"pages_root__1Z3IK\",\"title\":\"pages_title__2KEGW\",\"container\":\"pages_container__1b9hx\",\"codes\":\"pages_codes__3v5hb\",\"isHidden\":\"pages_isHidden__2LyC0\",\"canvas\":\"pages_canvas__3H2eN\"};"],"sourceRoot":""}