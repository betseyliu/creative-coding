{"version":3,"sources":["pages/Block.tsx","pages/common.ts","pages/Page.tsx","libs/point.ts","libs/math.ts","pages/Point.tsx","libs/vector.ts","libs/particle.ts","pages/Vector.tsx","libs/line.ts","pages/Line.tsx","App.tsx","serviceWorker.js","index.js","App.module.scss","pages/index.module.scss"],"names":["Block","name","sketch","codes","width","height","$box","useRef","useEffect","p5","current","useState","isCodeVisible","className","styles","title","container","style","classNames","canvas","isHidden","ref","setup","p","createCanvas","ellipseMode","RADIUS","rectMode","CORNERS","background","stroke","noFill","Pages","blocks","map","renderFunction","key","sketchFunction","toString","Point","x","y","this","dx","dy","Math","sqrt","radian","cos","sin","t","VisualPoint","w","c","strokeWeight","point","polarToCartesian","radius","points","i","random","color","forEach","display","TAU","translate","count","push","num","POINT_NUM","length","pa","j","pb","dist","distance","alpha","weight","line","center","time","rotate","index","next","Page","Vector","size","undefined","normalize","multi","atan2","v","a","Error","mag","div","copy","min","b","acos","dot","Particle","mass","maxSpeed","position","velocity","acceleration","force","add","limit","Attractor","magnitude","f","sub","VisualParticle","particles","particle","apply","update","acctractor","attractors","attractor","VisualLine","p1","p2","rad","lerp","l","v1","perpendicular","v2","u","gap","lines","setWeight","setColor","LINE_NUM","noise","len","progressionArr","n","q","result","progression","max","l1","l2","d","cur","pp","intersect","pages","Line","App","activePage","setActivePage","console","log","page","header","homeLink","href","link","menu","Object","keys","menuItem","onClick","content","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","module","exports"],"mappings":"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","file":"static/js/main.f0936153.chunk.js","sourcesContent":["import React, { FC, useRef, useEffect, useState } from 'react';\nimport styles from './index.module.scss';\nimport p5 from 'p5';\nimport classNames from 'classnames';\n\ninterface BlockProps {\n  name: string;\n  codes?: string;\n  sketch: (p: p5) => void;\n  width?: number;\n  height?: number;\n}\nconst Block: FC<BlockProps> = ({\n  name = '',\n  sketch = () => {},\n  codes,\n  width = 400,\n  height = 400,\n}) => {\n  const $box = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    new p5(sketch, $box.current as HTMLElement);\n  }, [sketch]);\n\n  const [\n    isCodeVisible,\n    // setCodeVisibility\n  ] = useState(false);\n  return (\n    <div>\n      <h3 className={styles.title}>{name}</h3>\n      <div\n        className={styles.container}\n        style={{ width: `${width}px`, height: `${height}px` }}\n        // onClick={() => {\n        //   setCodeVisibility(!isCodeVisible);\n        // }}\n      >\n        <div\n          className={classNames(styles.canvas, {\n            [styles.isHidden]: isCodeVisible,\n          })}\n          ref={$box}\n        ></div>\n        <p className={styles.codes}>{codes}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Block;\n","import p5 from 'p5';\nexport const setup = (p: p5, width: number = 400, height: number = 400) => {\n  p.createCanvas(width, height);\n  p.ellipseMode(p.RADIUS);\n  p.rectMode(p.CORNERS);\n  p.background('#111111');\n  p.stroke(255);\n  p.noFill();\n};\n","import React, { Fragment, FC } from 'react';\nimport Block from './Block';\nimport { setup } from './common';\nimport p5 from 'p5';\n\ntype RenderFunction = (p: p5) => void;\n\ninterface BlockProps {\n  name: string;\n  renderFunction: RenderFunction;\n  width?: number;\n  height?: number;\n}\n\ninterface PagesProps {\n  blocks: BlockProps[];\n}\n\nconst Pages: FC<PagesProps> = ({ blocks = [] }) => {\n  const sketchFunction = (\n    p: p5,\n    renderFunction: RenderFunction,\n    width = 500,\n    height = 500\n  ) => {\n    p.setup = () => {\n      setup(p, width, height);\n      renderFunction(p);\n    };\n  };\n  return (\n    <Fragment>\n      {blocks.map(({ name, renderFunction, width = 500, height = 500 }) => {\n        return (\n          <Block\n            key={name}\n            name={name}\n            width={width}\n            height={height}\n            sketch={(p) => {\n              sketchFunction(p, renderFunction, width, height);\n            }}\n            codes={renderFunction.toString()}\n          />\n        );\n      })}\n    </Fragment>\n  );\n};\n\nexport default Pages;\n","import p5, { Color } from 'p5';\n\nexport class Point {\n  x: number;\n  y: number;\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  // 复制一个点\n  copy(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  // 两点之间的距离\n  distance(p: Point): number {\n    const dx = p.x - this.x;\n    const dy = p.y - this.y;\n    return Math.sqrt(dx ** 2 + dy ** 2);\n  }\n\n  // 绕着某个点旋转\n  rotate(p: Point, radian: number): Point {\n    const dx = this.x - p.x;\n    const dy = this.y - p.y;\n    this.x = p.x + Math.cos(radian) * dx - Math.sin(radian) * dy;\n    this.y = p.y + Math.sin(radian) * dx + Math.cos(radian) * dy;\n    return new Point(this.x, this.y);\n  }\n  // 与点p之间的插值点\n  lerp(p: Point, t: number): Point {\n    return new Point(this.x + t * (p.x - this.x), this.y + t * (p.y - this.y));\n  }\n}\n\nexport class VisualPoint extends Point {\n  w: number;\n  c: Color;\n  constructor(x: number = 0, y: number = 0, w: number, c: Color) {\n    super(x, y);\n    this.w = w;\n    this.c = c;\n  }\n\n  // 绘制点\n  display(p: p5): void {\n    p.stroke(this.c);\n    p.strokeWeight(this.w);\n    p.point(this.x, this.y);\n  }\n}\n","interface PointProps {\n  x: number;\n  y: number;\n}\n/**\n * 极坐标转笛卡尔坐标\n * @param radius 半径\n * @param radian 弧度\n */\nexport function polarToCartesian(radius: number, radian: number): PointProps {\n  return {\n    x: Math.cos(radian) * radius,\n    y: Math.sin(radian) * radius,\n  };\n}\n\n/**\n * 等比数列\n * @param n 数列长度\n * @param q 前后项比值\n */\nexport const progression = (n: number, q: number): number[] => {\n  const result = [];\n  result[0] = 1; // 首项\n  for (let i = 1; i < n; i++) {\n    result[i] = result[i - 1] * q; // 根据倍数计算下一项\n  }\n  return result;\n};\n","import React from 'react';\nimport Page from './Page';\nimport p5 from 'p5';\nimport { VisualPoint, Point } from '../libs/point';\nimport { polarToCartesian } from '../libs/math';\nconst POINT_NUM = 1000;\n\nconst randomPoints = {\n  name: 'Random Points',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPoints2 = {\n  name: 'Random Points 2',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const x = p.random(p.width);\n      const random = p.random(1) ** 0.2;\n      const y = p.map(random, 0, 1, 0, p.height);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle = {\n  name: 'Random Points in Circle',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(0.4 * p.width);\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle2 = {\n  name: 'Random Points in Circle 2',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(1) ** 0.5 * 0.4 * p.width; // 对生成半径的随机数开方可以解决中间密，外边疏的情况\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomPointsInCircle3 = {\n  name: 'Random Points in Circle 3',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM; i++) {\n      const radian = p.random(p.TAU);\n      const radius = p.random(1) ** 0.1 * 0.4 * p.width; // 对生成半径的随机数开方可以解决中间密，外边疏的情况\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst equidistributionPointsInCircle = {\n  name: 'Equidistribution Points in Circle',\n  renderFunction: (p: p5) => {\n    const points: VisualPoint[] = [];\n    let radius = 10; // 初始半径\n    let radian = 0; // 初始弧度\n    const arc = 10; // 弧长间距\n    let count = 0;\n\n    while (radius < p.width / 2) {\n      const { x, y } = polarToCartesian(radius, radian);\n      const w = p.random(1, 5);\n      const c = p.color(p.random(200));\n      points.push(new VisualPoint(x, y, w, c));\n\n      const num = ~~((p.TAU * radius) / arc);\n      radian += p.TAU / num;\n      count++;\n      if (count === num) {\n        count = 0;\n        radian = 0;\n        radius += 10;\n      }\n    }\n\n    p.translate(p.width / 2, p.height / 2);\n    points.forEach((point) => point.display(p));\n  },\n};\n\nconst randomLinks = {\n  name: 'Random links',\n  renderFunction: (p: p5) => {\n    const points: Point[] = [];\n\n    for (let i = 0; i < POINT_NUM / 10; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      points[i] = new Point(x, y);\n    }\n\n    for (let i = 0; i < points.length; i++) {\n      const pa = points[i];\n      for (let j = i; j < points.length; j++) {\n        const pb = points[j];\n        const dist = pa.distance(pb);\n\n        if (dist < p.width / 2) {\n          const alpha = p.map(dist, 0, p.width / 2, 0, 40);\n          const weight = p.map(dist, 0, p.width / 2, 2, 0);\n\n          p.stroke(p.color(255, alpha));\n          p.strokeWeight(weight);\n          p.line(pa.x, pa.y, pb.x, pb.y);\n        }\n      }\n    }\n  },\n};\n\nconst pointsCircle = {\n  name: 'Points circle',\n  renderFunction(p: p5) {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM / 2; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = 1;\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    const center = new Point(p.width / 2, p.height / 2);\n\n    for (let time = 0; time < 100; time++) {\n      points.forEach((point) => {\n        point.rotate(center, 0.01);\n        point.display(p);\n      });\n    }\n  },\n};\n\nconst pointsRotateAroundPrevious = {\n  name: 'Points rotate around previous',\n  renderFunction(p: p5) {\n    const points: VisualPoint[] = [];\n    for (let i = 0; i < POINT_NUM / 2; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n      const w = 1;\n      const c = p.color(p.random(200));\n\n      points[i] = new VisualPoint(x, y, w, c);\n    }\n\n    for (let time = 0; time < 100; time++) {\n      points.forEach((point, index) => {\n        const next = (index + 1) % points.length;\n        point.rotate(points[next], 0.01);\n        point.display(p);\n      });\n    }\n  },\n};\nconst linksRotateAroundPrevious = {\n  name: 'links rotate around previous',\n  renderFunction(p: p5) {\n    const points: Point[] = [];\n    for (let i = 0; i < POINT_NUM / 10; i++) {\n      const x = p.random(p.width);\n      const y = p.random(p.height);\n\n      points[i] = new Point(x, y);\n    }\n\n    // 旋转规则\n    for (let time = 0; time < 20; time++) {\n      points.forEach((point, index) => {\n        const next = (index + 1) % points.length;\n        point.rotate(points[next], 0.01);\n      });\n      // 距离规则\n      for (let i = 0; i < points.length; i++) {\n        const pa = points[i];\n        for (let j = i; j < points.length; j++) {\n          const pb = points[j];\n          const dist = pa.distance(pb);\n          if (dist < p.width / 5) {\n            const alpha = p.map(dist, 0, p.width / 2, 0, 40);\n            const weight = p.map(dist, 0, p.width / 2, 2, 0);\n\n            p.stroke(p.color(255, alpha));\n            p.strokeWeight(weight);\n            p.line(pa.x, pa.y, pb.x, pb.y);\n          }\n        }\n      }\n    }\n  },\n};\nconst blocks = [\n  randomPoints,\n  randomPoints2,\n  randomPointsInCircle,\n  randomPointsInCircle2,\n  randomPointsInCircle3,\n  equidistributionPointsInCircle,\n  randomLinks,\n  pointsCircle,\n  pointsRotateAroundPrevious,\n  linksRotateAroundPrevious,\n];\n\nexport default () => <Page blocks={blocks} />;\n","export class Vector {\n  x: number;\n  y: number;\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  // 复制\n  copy(): Vector {\n    return new Vector(this.x, this.y);\n  }\n\n  // 大小 || 设置大小\n  mag(): number;\n  mag(size: number): Vector;\n  mag(size?: number) {\n    if (size === undefined) {\n      return Math.sqrt(this.x ** 2 + this.y ** 2);\n    }\n    return this.normalize().multi(size);\n  }\n\n  // 方向，弧度制\n  heading(): number {\n    return Math.atan2(this.y, this.x);\n  }\n\n  // 加\n  add(v: Vector): Vector {\n    this.x += v.x;\n    this.y += v.y;\n    return new Vector(this.x, this.y);\n  }\n\n  // 减\n  sub(v: Vector): Vector {\n    this.x -= v.x;\n    this.y -= v.y;\n    return new Vector(this.x, this.y);\n  }\n\n  // 数乘\n  multi(a: number): Vector {\n    this.x *= a;\n    this.y *= a;\n    return new Vector(this.x, this.y);\n  }\n\n  // 数除\n  div(a: number): Vector {\n    if (a === 0) throw new Error('cannot divide zero');\n    this.x /= a;\n    this.y /= a;\n    return new Vector(this.x, this.y);\n  }\n\n  // 点乘\n  dot(v: Vector): number {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  // 叉乘\n  cross(v: Vector): number {\n    return this.x * v.y - this.y * v.x;\n  }\n\n  // 标准化\n  normalize(): Vector {\n    const mag = this.mag();\n    if (mag !== 0 && mag !== 1) return this.div(mag);\n    return this.copy();\n  }\n\n  // 限制大小\n  limit(size: number): Vector {\n    return this.mag(Math.min(this.mag(), size));\n  }\n\n  // 旋转\n  rotate(a: number): Vector {\n    this.x = Math.cos(a) * this.x - Math.sin(a) * this.y;\n    this.y = Math.sin(a) * this.x + Math.cos(a) * this.y;\n    return new Vector(this.x, this.y);\n  }\n\n  // 垂直\n  perpendicular(): Vector {\n    return new Vector(-this.y, this.x);\n  }\n\n  // 两向量的距离\n  distance(v: Vector): number {\n    const dx = this.x - v.x;\n    const dy = this.y - v.y;\n    return Math.sqrt(dx ** 2 + dy ** 2);\n  }\n\n  // 两个向量之间的夹角\n  angleBetween(v: Vector): number {\n    const a = this.copy().normalize();\n    const b = v.copy().normalize();\n    return Math.acos(a.dot(b));\n  }\n}\n","import { Vector } from './vector';\nimport p5, { Color } from 'p5';\n\nexport class Particle {\n  position: Vector; // 位置\n  velocity: Vector; // 速度\n  acceleration: Vector; // 加速度\n  mass: number; // 质量\n  maxSpeed: number; // 最大速率\n\n  constructor(\n    x: number,\n    y: number,\n    { mass = 1, maxSpeed = 1 }: { mass: number; maxSpeed: number }\n  ) {\n    this.position = new Vector(x, y);\n    this.velocity = new Vector();\n    this.mass = mass;\n    this.maxSpeed = maxSpeed;\n    this.acceleration = new Vector();\n  }\n\n  // 施加力 f = ma;\n  apply(force: Vector) {\n    this.acceleration = this.acceleration.add(force.div(this.mass));\n  }\n\n  // 更新\n  update() {\n    this.velocity = this.velocity.add(this.acceleration).limit(this.maxSpeed); // 更新速度， 限制最大速度\n    this.position = this.position.add(this.velocity); // 更新位置\n    this.acceleration = this.acceleration.multi(0); // 加速度清零\n  }\n}\n\n// 影响力\nexport class Attractor {\n  position: Vector;\n  magnitude: number;\n\n  constructor(x: number, y: number, mag: number) {\n    this.position = new Vector(x, y);\n    this.magnitude = mag;\n  }\n\n  // 对点v的影响力\n  force(v: Vector): Vector {\n    const f = this.position.copy().sub(v); // 计算力的方向\n    f.normalize().multi(this.magnitude);\n    return f;\n  }\n}\n\nexport class VisualParticle extends Particle {\n  color: Color;\n  weight: number;\n  constructor(\n    x: number,\n    y: number,\n    c: Color,\n    w: number,\n    {\n      mass = 1,\n      maxSpeed = 1,\n    }: {\n      mass?: number;\n      maxSpeed?: number;\n    } = {}\n  ) {\n    super(x, y, { mass, maxSpeed });\n    this.color = c;\n    this.weight = w;\n  }\n\n  display(p: p5) {\n    p.stroke(p.color(this.color));\n    p.strokeWeight(this.weight);\n    p.point(this.position.x, this.position.y);\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport p5 from 'p5';\nimport { VisualParticle, Attractor } from '../libs/particle';\nimport { Vector } from '../libs/vector';\nconst P_NUM = 800;\n\nconst blocks = [\n  {\n    name: 'Random Particles',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y, p.color('#ddd'), 1);\n      }\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const x = p.random(-1, 1);\n          const y = p.random(-1, 1);\n          const force = new Vector(x, y);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Gravitation at center',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y, p.color('#ddd'), 1);\n      }\n      const acctractor = new Attractor(p.width / 2, p.height / 2, 1); // mag is positive means the acctraction is gravitation\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const force = acctractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Repulsion at center',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y, p.color('#ddd'), 1);\n      }\n      const acctractor = new Attractor(p.width / 2, p.height / 2, -1); // mag is negative means the acctraction is repulsion\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          const force = acctractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Random repulsion and gravitation',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        particles[i] = new VisualParticle(x, y, p.color('#ddd'), 1);\n      }\n      const attractors: Attractor[] = [];\n      for (let i = 0; i < 4; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        const mag = p.random(1, -1);\n        attractors[i] = new Attractor(x, y, mag);\n      }\n\n      for (let time = 0; time < 100; time++) {\n        particles.forEach((particle) => {\n          attractors.forEach((attractor) => {\n            const force = attractor.force(particle.position);\n            particle.apply(force);\n          });\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'Random repulsion and gravitation 2',\n    renderFunction: (p: p5) => {\n      const particles = [];\n      for (let i = 0; i < P_NUM; i++) {\n        const x = p.random(p.width);\n        const y = p.height / 2;\n        particles[i] = new VisualParticle(x, y, p.color('#ddd'), 1);\n      }\n      const attractors: Attractor[] = [];\n      for (let i = 0; i < 10; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        const mag = p.random(1, -1);\n        attractors[i] = new Attractor(x, y, mag);\n      }\n\n      for (let time = 0; time < 200; time++) {\n        particles.forEach((particle) => {\n          const attractor = attractors[~~p.random(0, attractors.length - 1)];\n          const force = attractor.force(particle.position);\n          particle.apply(force);\n          particle.update();\n          particle.display(p);\n        });\n      }\n    },\n    width: 1000,\n    height: 500,\n  },\n];\n\nexport default () => <Page blocks={blocks} />;\n","import { Point } from './point';\nimport p5, { Color } from 'p5';\nimport { Vector } from './vector';\n\nexport class Line {\n  p1: Point;\n  p2: Point;\n  constructor(p1: Point, p2: Point) {\n    this.p1 = p1;\n    this.p2 = p2;\n  }\n\n  // 线段长度\n  length(): number {\n    return this.p1.distance(this.p2);\n  }\n\n  // 绕着某点旋转\n  rotate(p: Point, rad: number): Line {\n    this.p1.rotate(p, rad);\n    this.p2.rotate(p, rad);\n    return this;\n  }\n  lerp(f: number): Point {\n    return this.p1.lerp(this.p2, f);\n  }\n  // https://imgchr.com/i/BmJ01O\n  intersect(l: Line): Point | null {\n    const a = new Vector(this.p2.x - this.p1.x, this.p2.y - this.p1.y);\n    const b = new Vector(l.p2.x - l.p1.x, l.p2.y - l.p1.y);\n    const c = new Vector(l.p1.x - this.p1.x, l.p1.y - this.p1.y);\n\n    const v1 = a.perpendicular();\n    const v2 = b.perpendicular();\n    const t = c.dot(v2) / a.dot(v2);\n    const u = -c.dot(v1) / b.dot(v1);\n\n    if (t > 0 && t < 1 && u > 0 && u < 1) {\n      let v = new Vector(this.p1.x, this.p1.y);\n      v = v.add(a.multi(t));\n      return new Point(v.x, v.y);\n    } else {\n      return null;\n    }\n  }\n}\n\nexport class VisualLine extends Line {\n  w: number;\n  c: Color;\n  constructor(p1: Point, p2: Point, c: Color, w: number) {\n    super(p1, p2);\n    this.c = c;\n    this.w = w;\n  }\n  // 设置宽度\n  setWeight(w: number): Line {\n    this.w = w;\n    return this;\n  }\n\n  // 设置颜色\n  setColor(c: Color): Line {\n    this.c = c;\n    return this;\n  }\n\n  // 展示线段\n  display(p: p5): void {\n    p.strokeWeight(this.w);\n    p.stroke(this.c);\n    p.line(this.p1.x, this.p1.y, this.p2.x, this.p2.y);\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport p5 from 'p5';\nimport { Point } from '../libs/point';\nimport { VisualLine } from '../libs/line';\nimport { progression } from '../libs/math';\nconst LINE_NUM = 100;\n\nconst blocks = [\n  {\n    name: 'Random lines',\n    renderFunction: (p: p5) => {\n      const gap = p.width / LINE_NUM;\n      const lines = [];\n      for (let i = 0; i < LINE_NUM; i++) {\n        const p1 = new Point(i * gap, p.random(p.height));\n        const p2 = new Point(i * gap, p.random(p.height));\n        const line = new VisualLine(p1, p2, p.color('#ddd'), 1);\n        line.setWeight(p.map(line.length(), 0, p.height, 0, 3));\n        line.setColor(p.color(p.map(line.length(), 0, p.height, 30, 230)));\n        lines.push(line);\n      }\n      lines.forEach((line) => line.display(p));\n    },\n    height: 500,\n    width: 500,\n  },\n  {\n    name: 'Perlin lines',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < LINE_NUM; i++) {\n        const x = p.map(i, 0, LINE_NUM - 1, 0, p.width);\n        const y = p.noise(i / 100) * p.height;\n        const len = p.height / 3;\n        const p1 = new Point(x, y - len / 2);\n        const p2 = new Point(x, y + len / 2);\n        lines.push(new VisualLine(p1, p2, p.color('#ddd'), 1));\n      }\n\n      lines.forEach((line) => line.display(p));\n    },\n  },\n  {\n    name: 'progression lines',\n    renderFunction(p: p5) {\n      const lines = [];\n      const progressionArr = progression(30, 1.1);\n      const min = p.min(progressionArr);\n      const max = p.max(progressionArr);\n      for (let i = 0; i < progressionArr.length; i++) {\n        const x = p.map(progressionArr[i], min, max, 0, p.width);\n        const c = p.color('#ddd');\n        const w = 1;\n        lines.push(\n          new VisualLine(new Point(x, 0), new Point(x, p.height), c, w)\n        );\n      }\n      lines.forEach((line) => line.display(p));\n    },\n  },\n  {\n    name: 'rotate around edge',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < LINE_NUM; i++) {\n        const x = p.map(i, 0, LINE_NUM - 1, 0, p.width);\n        const p1 = new Point(x, p.random(p.height));\n        const p2 = new Point(x, p.random(p.height));\n        const line = new VisualLine(p1, p2, p.color('#ddd'), 1);\n        line.setColor(\n          p.color(\n            `rgba(150, 150, 150, ${p.map(line.length(), 0, p.height, 0, 0.2)})`\n          )\n        );\n        lines.push(line);\n      }\n\n      for (let time = 0; time < 30; time++) {\n        lines.forEach((line) => {\n          line.p1.rotate(line.p2, 0.012);\n          line.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'rotate around next line edge',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < LINE_NUM; i++) {\n        const x = p.map(i, 0, LINE_NUM - 1, 0, p.width);\n        const p1 = new Point(x, p.random(p.height));\n        const p2 = new Point(x, p.random(p.height));\n        const line = new VisualLine(p1, p2, p.color('#ddd'), 1);\n        line.setColor(\n          p.color(\n            `rgba(150, 150, 150, ${p.map(line.length(), 0, p.height, 0, 0.2)})`\n          )\n        );\n        lines.push(line);\n      }\n\n      for (let time = 0; time < 80; time++) {\n        for (let i = 0; i < lines.length; i++) {\n          const l1 = lines[i];\n          const l2 = lines[(i + 1) % lines.length];\n          l1.p1.rotate(l1.p2, 0.01);\n          l1.p2.rotate(l2.p1, 0.01);\n          l1.display(p);\n        }\n      }\n    },\n  },\n  {\n    name: 'rotate around center',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < 10; i++) {\n        const p1 = new Point(p.random(p.width), p.random(p.height));\n        const p2 = new Point(p.random(p.width), p.random(p.height));\n        lines.push(new VisualLine(p1, p2, p.color(200, 20), 1));\n      }\n\n      const center = new Point(p.width / 2, p.height / 2);\n\n      for (let time = 0; time < 500; time++) {\n        lines.forEach((line) => {\n          line.rotate(center, 0.02);\n          line.display(p);\n        });\n      }\n    },\n  },\n  {\n    name: 'rotate around center and next line edge',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < 10; i++) {\n        const p1 = new Point(p.random(p.width), p.random(p.height));\n        const p2 = new Point(p.random(p.width), p.random(p.height));\n        lines.push(new VisualLine(p1, p2, p.color(200, 20), 1));\n      }\n\n      const center = new Point(p.width / 2, p.height / 2);\n\n      for (let time = 0; time < 500; time++) {\n        for (let i = 0; i < lines.length; i++) {\n          const l1 = lines[i];\n          const l2 = lines[(i + 1) % lines.length];\n          l1.rotate(center, 0.01);\n          l1.p2.rotate(l2.p1, 0.01);\n          l1.display(p);\n        }\n      }\n    },\n  },\n  {\n    name: 'Lerp lines',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < 10; i++) {\n        const p1 = new Point(p.random(p.width), p.random(p.height));\n        const p2 = new Point(p.random(p.width), p.random(p.height));\n        lines.push(new VisualLine(p1, p2, p.color(200, 20), 1));\n      }\n      for (let time = 0; time < 1000; time++) {\n        const t = p.map(time, 0, 1000, 0, 1);\n        for (let i = 0; i < lines.length - 1; i++) {\n          const l1 = lines[i];\n          const l2 = lines[i + 1];\n          const p1 = l1.lerp(t);\n          const p2 = l2.lerp(t);\n          const d = p1.distance(p2);\n          const alpha = p.map(d, 0, p.width, 10, 0);\n          p.stroke(p.color(200, alpha));\n          p.line(p1.x, p1.y, p2.x, p2.y);\n        }\n      }\n    },\n  },\n  {\n    name: 'Intersections',\n    renderFunction(p: p5) {\n      const lines = [];\n      for (let i = 0; i < LINE_NUM; i++) {\n        const p1 = new Point(p.random(p.width), p.random(p.height));\n        const p2 = new Point(p.random(p.width), p.random(p.height));\n        lines.push(new VisualLine(p1, p2, p.color(200, 50), 1));\n      }\n      for (let i = 0; i < lines.length; i++) {\n        const cur = lines[i];\n        cur.display(p);\n        for (let j = 0; j < lines.length; j++) {\n          if (lines[j] === cur) continue;\n          const pp = cur.intersect(lines[j]);\n          if (pp) {\n            p.stroke(255);\n            p.point(pp.x, pp.y);\n          }\n        }\n      }\n    },\n  },\n];\n\nexport default () => <Page blocks={blocks} />;\n","import React, { useState } from 'react';\nimport styles from './App.module.scss';\nimport classNames from 'classnames';\nimport Point from './pages/Point';\nimport Vector from './pages/Vector';\nimport Line from './pages/Line';\n\nconst pages = {\n  Point: () => <Point />,\n  Vector: () => <Vector />,\n  Line: () => <Line />,\n  // Circle: undefined,\n  // Triangle: undefined,\n  // Rectangle: undefined,\n  // Number: undefined,\n  // Tree: undefined,\n  // Graph: undefined,\n  // Sound: undefined,\n};\n\nfunction App() {\n  const [activePage, setActivePage] = useState('Line');\n\n  console.log(activePage);\n\n  return (\n    <div className={styles.page}>\n      <header className={styles.header}>\n        <div>\n          <a className={styles.homeLink} href=\"//betsey.win\">\n            Betsey\n          </a>\n          <a className={styles.link} href=\"/\">\n            Creative Coding\n          </a>\n        </div>\n      </header>\n      <ul className={styles.menu}>\n        {Object.keys(pages).map((page) => (\n          <li\n            className={classNames(styles.menuItem, {\n              [styles['menuItem--active']]: page === activePage,\n            })}\n            key={page}\n            onClick={() => setActivePage(page)}\n          >\n            {page}\n          </li>\n        ))}\n      </ul>\n      <div className={styles.content}>{(pages as any)[activePage]()}</div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App.tsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__2CSG3\",\"page\":\"App_page__1AVsN\",\"header\":\"App_header__2L3DO\",\"homeLink\":\"App_homeLink__2YGNC\",\"link\":\"App_link__1t642\",\"menu\":\"App_menu__z3ViC\",\"menuItem\":\"App_menuItem__CWTjr\",\"menuItem--active\":\"App_menuItem--active__3cwcT\",\"content\":\"App_content__1Wt3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"pages_root__1Z3IK\",\"title\":\"pages_title__2KEGW\",\"container\":\"pages_container__1b9hx\",\"codes\":\"pages_codes__3v5hb\",\"isHidden\":\"pages_isHidden__2LyC0\",\"canvas\":\"pages_canvas__3H2eN\"};"],"sourceRoot":""}